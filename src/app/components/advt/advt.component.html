<ng-container  *ngIf="isLoadAdvt$|async; else loading">
<div class="advt-card">
  <div class="advt-card-area">
    <div class="advt" style="">
      <div class="advt-photo-area">
        <img class="advt-photo" src="data:image/png;base64,{{advtShow.photo}}">
      </div>
    </div>
    <div class="data-advt-area">
      <div class="data-advt">
        <h1 class="data-advt-text" id="name-advt">{{advtShow.name}}</h1>
      </div>

      <div class="data-advt">
        <h2 class="data-advt-text" id="price-advt">{{advtShow.price}} ₽</h2>
      </div>
      <div class="advt-content">

        <div class="data-advt">
          <img class="icon" src="../../../assets/svg/location_advt.svg"/>
          <p class="data-advt-text" id="location-advt">{{advtShow.location}}</p>
        </div>


        <div class="data-advt" *ngIf="advtShow.userId!=viewingUser.id">
          <img class="icon" src="../../../assets/svg/cancel.svg"/>
            <a class="data-advt-text" routerLink="/account/login" *ngIf="viewingUser.role==2; else userAuthorized">Пожаловаться</a>
            <ng-template #userAuthorized>
              <a class="data-advt-text" (click)="writeReport = true" >Пожаловаться</a>
            </ng-template>

        </div>


        <div class="data-advt" *ngIf="advtShow.userId!=viewingUser.id">
          <img class="icon" src="../../../assets/svg/star.svg"/>
          <a (click)="writeReview = true" class="data-advt-text" *ngIf="viewingUser.role!=2; else report_user_not_null">Отзыв</a>
          <ng-template #report_user_not_null>
            <a (click)="writeReview = true" class="data-advt-text" routerLink="/account/login">Отзыв</a>
          </ng-template>
        </div>
      </div>
      <div class="data-advt" style="justify-content: left" *ngIf="advtShow.userId==viewingUser.id; else other_content">
        <button class="btn" (click)="editAdvt = true">Редактировать</button>
        <div style="width: 10px"></div>
        <button class="btn" id="delete" (click)="deleteAdvt(advtShow.id)" routerLink="">Снять с публикации</button>
      </div>
      <ng-template #other_content>
        <div class="data-advt" style="justify-content: left">
          <img class="icon" src="../../../assets/svg/star.svg"/>
          <a class="data-advt-text">Добавить в избранное</a>
        </div>
      </ng-template>
    </div>
  </div>
</div>

<app-user-owner-advt [userId]="advtShow.userId" *ngIf="advtShow.userId!=viewingUser.id"></app-user-owner-advt>
<div class="advt-card" *ngIf="advtShow!=null" style="display: flex;">
  <div class="advt-card-area" style="justify-content: left; flex-direction: column;">
    <h2 style=" margin: 5px 20px;font-family: Roboto-Bold;color: #25AF5C; ">Описание</h2>

    <p style="margin: 20px;font-family: Roboto-Light">{{advtShow.description}}</p>
    <p style="margin: 20px;font-family: Roboto-Bold;color: darkseagreen; text-align: right">{{advtShow.createDate}}</p>
  </div>
</div>

<app-reviews-advt [advtIdReview]="advtShow.id" *ngIf="advtShow!=null"></app-reviews-advt>


<app-write-report-advt *ngIf="writeReport" (writeReport)="showWriteReport($event)"></app-write-report-advt>
<app-write-review *ngIf="writeReview" (writeReview)="showWriteReview($event)"></app-write-review>
<app-edit-advt *ngIf="editAdvt" (editAdvt)="showEditAdvt($event)" [advt]="advtShow"></app-edit-advt>
</ng-container>
<ng-template #loading>
  <app-loading></app-loading>
</ng-template>

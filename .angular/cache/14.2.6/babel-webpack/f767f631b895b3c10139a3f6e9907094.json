{"ast":null,"code":"import _asyncToGenerator from \"K:/Coding/SolarLab/TechnicalTask/UI/Angular/ElectronicBoardUI/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { StatusRole } from \"../models/user\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class UserService {\n  constructor(http) {\n    this.http = http;\n  }\n\n  getAll() {\n    return this.http.get('https://localhost:7097/v1/users');\n  }\n\n  getById(id) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      return yield _this.http.get('https://localhost:7097/v1/users/' + id);\n    })();\n  }\n\n  getViewUser() {\n    let userView = JSON.parse(localStorage.getItem('user'));\n\n    if (userView == null) {\n      userView = new class {}();\n      userView.id = 0;\n      userView.role = StatusRole.Anon;\n    }\n\n    return userView;\n  }\n\n}\n\nUserService.ɵfac = function UserService_Factory(t) {\n  return new (t || UserService)(i0.ɵɵinject(i1.HttpClient));\n};\n\nUserService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: UserService,\n  factory: UserService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";AAGA,SAAeA,UAAf,QAAgC,gBAAhC;;;AAKA,OAAM,MAAOC,WAAP,CAAkB;EAEtBC,YAAoBC,IAApB,EAAoC;IAAhB;EACnB;;EAEDC,MAAM;IACJ,OAAO,KAAKD,IAAL,CAAUE,GAAV,CAAuB,iCAAvB,CAAP;EACD;;EAEKC,OAAO,CAACC,EAAD,EAAW;IAAA;;IAAA;MACtB,aAAa,KAAI,CAACJ,IAAL,CAAUE,GAAV,CAAqB,qCAAqCE,EAA1D,CAAb;IADsB;EAEvB;;EAEDC,WAAW;IACT,IAAIC,QAAQ,GAAQC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAApB;;IACA,IAAGJ,QAAQ,IAAE,IAAb,EAAkB;MAChBA,QAAQ,GAAG,IAAI,QAAJ,EAAX;MAYAA,QAAQ,CAACF,EAAT,GAAY,CAAZ;MACAE,QAAQ,CAACK,IAAT,GAAcd,UAAU,CAACe,IAAzB;IACD;;IACF,OAAON,QAAP;EACA;;AAhCqB;;;mBAAXR,aAAWe;AAAA;;;SAAXf;EAAWgB,SAAXhB,WAAW;EAAAiB,YAFV","names":["StatusRole","UserService","constructor","http","getAll","get","getById","id","getViewUser","userView","JSON","parse","localStorage","getItem","role","Anon","i0","factory","providedIn"],"sourceRoot":"","sources":["K:\\Coding\\SolarLab\\TechnicalTask\\UI\\Angular\\ElectronicBoardUI\\src\\app\\services\\user.service.ts"],"sourcesContent":["import {Injectable} from \"@angular/core\";\r\nimport {HttpClient} from \"@angular/common/http\";\r\nimport {Observable} from \"rxjs\";\r\nimport {IUser, StatusRole} from \"../models/user\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserService {\r\n\r\n  constructor(private http: HttpClient) {\r\n  }\r\n\r\n  getAll(): Observable<IUser[]> {\r\n    return this.http.get<IUser[]>('https://localhost:7097/v1/users')\r\n  }\r\n\r\n  async getById(id: number): Observable<IUser> {\r\n    return await this.http.get<IUser>('https://localhost:7097/v1/users/' + id)\r\n  }\r\n\r\n  getViewUser(): IUser{\r\n    let userView: IUser=JSON.parse(localStorage.getItem('user')!);\r\n    if(userView==null){\r\n      userView = new class implements IUser {\r\n        accountId: number;\r\n        birthday: Date;\r\n        email: string;\r\n        id: number;\r\n        lastName: string;\r\n        middleName: string;\r\n        name: string;\r\n        phoneNumber: string;\r\n        photo: \"\";\r\n        role: StatusRole;\r\n      }\r\n      userView.id=0;\r\n      userView.role=StatusRole.Anon;\r\n    }\r\n   return userView;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}